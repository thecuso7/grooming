import mongoose from 'mongoose';
import { defaultTypeServices } from './TypeService';

export const defaultServices = [
  { 
    _id: '661c0a1b8f1a2b3c4d5e6f1a',
    id: 1,
    title: 'Мытье + сушка',
    bundle: [],
    description: '',
    duration: 60,
    price: 1500,
    type: '661c0a1b8f1a2b3c4d5e6f6a',
    required: true,
  },
  { 
    _id: '661c0a1b8f1a2b3c4d5e6f1b',
    id: 2,
    title: 'Модельная стрижка',
    bundle: [],
    description: '',
    duration: 90,
    price: 2000,
    type: '661c0a1b8f1a2b3c4d5e6f6a',
    required: false,
  },
  { 
    _id: '661c0a1b8f1a2b3c4d5e6f1c',
    id: 3,
    title: 'Чистка ушей',
    bundle: [],
    description: '',
    duration: 15,
    price: 500,
    type: '661c0a1b8f1a2b3c4d5e6f6a',
    required: false,
  },
  { 
    _id: '661c0a1b8f1a2b3c4d5e6f1d',
    id: 4,
    title: 'Стрижка когтей',
    bundle: [],
    description: '',
    duration: 15,
    price: 500,
    type: '661c0a1b8f1a2b3c4d5e6f6a',
    required: false,
  },
  { 
    _id: '661c0a1b8f1a2b3c4d5e6f1e',
    id: 5,
    title: 'Удаление колтунов, вычесывание подшерстка',
    bundle: [],
    description: '',
    duration: 30,
    price: 1500,
    type: '661c0a1b8f1a2b3c4d5e6f6a',
    required: false,
  },
  { 
    _id: '661c0a1b8f1a2b3c4d5e6f1f',
    id: 6,
    title: 'Чистка зубов',
    bundle: [],
    description: '',
    duration: 30,
    price: 1000,
    type: '661c0a1b8f1a2b3c4d5e6f6b',
    required: false,
  },
  { 
    _id: '661c0a1b8f1a2b3c4d5e6f2a',
    id: 7,
    title: 'Удаление зубного камня',
    bundle: [],
    description: '',
    duration: 45,
    price: 2000,
    type: '661c0a1b8f1a2b3c4d5e6f6b',
    required: false,
  },
  { 
    _id: '661c0a1b8f1a2b3c4d5e6f2b',
    id: 8,
    title: 'Ароматерапия',
    bundle: [],
    description: '',
    duration: 15,
    price: 500,
    type: '661c0a1b8f1a2b3c4d5e6f6b',
    required: false,
  },
  { 
    _id: '661c0a1b8f1a2b3c4d5e6f2c',
    id: 9,
    title: 'SPA (лечебные ванны)',
    bundle: [],
    description: '',
    duration: 60,
    price: 4000,
    type: '661c0a1b8f1a2b3c4d5e6f6b',
    required: false,
  },
  { 
    _id: '661c0a1b8f1a2b3c4d5e6f2d',
    id: 10,
    title: 'Базовый уход',
    bundle: ['661c0a1b8f1a2b3c4d5e6f1a', '661c0a1b8f1a2b3c4d5e6f1c', '661c0a1b8f1a2b3c4d5e6f1d'],
    description: '',
    duration: 90,
    price: 2000,
    type: '661c0a1b8f1a2b3c4d5e6f6c',
    required: false,
  },
  { 
    _id: '661c0a1b8f1a2b3c4d5e6f2e',
    id: 11,
    title: 'Полный комплекс',
    bundle: ['661c0a1b8f1a2b3c4d5e6f1a', '661c0a1b8f1a2b3c4d5e6f1c', '661c0a1b8f1a2b3c4d5e6f1d', '661c0a1b8f1a2b3c4d5e6f1b', '661c0a1b8f1a2b3c4d5e6f1e'],
    description: '',
    duration: 180,
    price: 5000,
    type: '661c0a1b8f1a2b3c4d5e6f6c',
    required: false,
  },
  {
    _id: '661c0a1b8f1a2b3c4d5e6f2f',
    id: 12,
    title: 'Премиум',
    bundle: ['661c0a1b8f1a2b3c4d5e6f1a', '661c0a1b8f1a2b3c4d5e6f1c', '661c0a1b8f1a2b3c4d5e6f1d', '661c0a1b8f1a2b3c4d5e6f1b', '661c0a1b8f1a2b3c4d5e6f1e', '661c0a1b8f1a2b3c4d5e6f2b', '661c0a1b8f1a2b3c4d5e6f2c'],
    description: '',
    duration: 210,
    price: 7000,
    type: '661c0a1b8f1a2b3c4d5e6f6c',
    required: false,
  }
];

const serviceSchema = new mongoose.Schema({
  id: {
    type: Number,
    required: true,
  },
  title: {
    type: String,
    required: true,
  },
  description: {
    type: String,
  },
  duration: {
    type: Number,
    required: true,
  },
  price: {
    type: Number,
    required: true,
  },
  bundle: {
    type: Array,
  },
  type: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'TypeService',
    required: true,
    default: defaultTypeServices[0]._id
  },
  required: {
    type: Boolean,
    default: false,
  }
});

export const Service = mongoose.models.Service || mongoose.model('Service', serviceSchema);